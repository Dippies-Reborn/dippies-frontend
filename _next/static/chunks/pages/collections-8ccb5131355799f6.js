(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[564],{54673:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/collections",function(){return s(70381)}])},72141:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(80895),l=s(67294);function a(){return(0,l.useContext)(n.L)}},70381:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var n=s(85893),l=s(57906),a=s(49836),i=s(44777),c=s(58467),r=s(67294),o=s(44718),d=s(54306),u=s(27855),x=s(89583),m=s(64249),h=()=>{let{connection:e}=(0,o.R)(),t=(0,d.O)(),[s,h]=(0,r.useState)(!1),[f,j]=(0,r.useState)(),[v,p]=(0,r.useState)(),[N,b]=(0,r.useState)(),[g,y]=(0,r.useState)(),[w,C]=(0,r.useState)(!1),[k,S]=(0,r.useState)(),_=async()=>{let t=await l._z.fetch(e,(0,m.hS)());t&&j(t)};(0,r.useEffect)(()=>{f||_()},[f,e]);let P=e=>{try{p(new a.PublicKey(e.target.value))}catch(t){p(void 0)}},E=e=>{try{b(new a.PublicKey(e.target.value))}catch(t){b(void 0)}},O=e=>{y(Number(e.target.value))},R=()=>{C(e=>!e)},T=e=>{S(e.target.value)},K=async()=>{if(!v||!t.publicKey||!N||!g||!k||!f)return;let s=new l.t$(v,t.publicKey,a.Keypair.generate().publicKey,N,Math.round(100*g));await t.sendTransaction(new a.Transaction().add(a.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:(0,i.MO)(c.Gd,t.publicKey,!0),lamports:f.price.toNumber()})).add(s.instruction.createCollection(w)).add(s.instruction.createCollectionEntry(k,f.feeMint,f.earner)),e),h(!1),p(void 0),b(void 0),y(void 0),S(void 0)};return(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"btn btn-primary btn-large mx-auto",onClick:()=>h(!0),children:"Create a registered collection"}),(0,n.jsx)("div",{className:"modal ".concat(s?"modal-open":""),children:(0,n.jsxs)("div",{className:"modal-box",children:[(0,n.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,n.jsx)("div",{className:"text-xl font-bold my-auto",children:"Creator"}),(0,n.jsx)("div",{className:"btn btn-ghost",onClick:()=>h(!1),children:(0,n.jsx)(x.zYX,{className:"w-8 h-8"})})]}),(0,n.jsxs)("div",{className:"form flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"font-bold",children:"Original collection mint"}),(0,n.jsx)("div",{className:"text-sm text-neutral-content",children:'You can find it in the "collection" field of your token\'s metadata.'}),(0,n.jsx)("input",{className:"input input-bordered w-full",onChange:P})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"font-bold",children:"Royalties earner"}),(0,n.jsx)("div",{className:"text-sm text-neutral-content",children:"The wallet that will receive royalties."}),(0,n.jsx)("input",{className:"input input-bordered w-full",onChange:E})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"font-bold",children:"Royalties"}),(0,n.jsx)("div",{className:"text-sm text-neutral-content",children:"The percentage taken for royalties on each trade."}),(0,n.jsx)("input",{className:"input input-bordered w-full",type:"number",onChange:O})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"font-bold",children:"Reversable"}),(0,n.jsx)("div",{className:"text-sm text-neutral-content",children:"Whether it's possible to convert entangled tokens back to the original collection."}),(0,n.jsx)("input",{className:"checkbox",type:"checkbox",defaultChecked:!0,onChange:R})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"font-bold",children:"Registry key"}),(0,n.jsx)("div",{className:"text-sm text-neutral-content",children:"A human readable key in snake case (written_like_this)."}),(0,n.jsx)("input",{className:"input input-bordered w-full",onChange:T})]}),(0,n.jsxs)("div",{className:"btn ".concat(v&&N&&g&&k?"":"btn-disabled"," w-full"),onClick:K,children:["Create a collection for"," ",null==f?void 0:f.price.div(new u.BN(a.LAMPORTS_PER_SOL)).toString()," ","SOL"]})]})]})})]})},f=s(41664),j=s.n(f),v=JSON.parse('["C2cD56APtfp6PhZr2Wm6X19EnyxaNFtYxnCETURLt1SA"]'),p=e=>{var t;let{collection:s}=e;return console.log("Collection",s),(0,n.jsx)(j(),{href:"/collection?id="+s.key,children:(0,n.jsxs)("div",{className:"m-2 static flex flex-col w-32 sm:w-48 rounded-lg shadow-xl bg-neutral",children:[v.includes(s.address.toString())?(0,n.jsx)("div",{className:"tooltip","data-tip":"Verified collection",children:(0,n.jsx)(x.CvY,{className:"absolute w-6 h-6 m-1 text-neutral-focus"})}):null,(0,n.jsx)("img",{className:"w-56 rounded-t-md",src:null===(t=s.json)||void 0===t?void 0:t.image}),(0,n.jsx)("span",{className:"text-xl font-bold text-center p-3 text-neutral-content",children:s.name})]},s.address.toString())})},N=s(72141),b=()=>{let{collections:e,isFetching:t}=(0,N.Z)();return console.log("Collections",e),(0,n.jsx)("div",{className:"m-5 p-5",children:e&&e.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-2xl font-bold",children:"Registered collections"}),(0,n.jsx)("div",{className:"flex flex-wrap",children:e.map(e=>(0,n.jsx)(p,{collection:e}))})]}):(0,n.jsx)(n.Fragment,{children:t?(0,n.jsxs)("div",{className:"text-center text-3xl p-5",children:[(0,n.jsx)("span",{children:"Fetching collections..."}),(0,n.jsx)("progress",{className:"progress"})]}):(0,n.jsx)("div",{children:"There are no registered collections yet..."})})})},g=s(9008),y=s.n(g);let w=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(y(),{children:[(0,n.jsx)("title",{children:"Dippies Club - Collections"}),(0,n.jsx)("meta",{name:"description",content:"A path forward"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("div",{className:"mt-5",children:[(0,n.jsx)(b,{}),(0,n.jsx)(h,{})]})]});var C=w},9008:function(e,t,s){e.exports=s(83121)}},function(e){e.O(0,[445,774,888,179],function(){return e(e.s=54673)}),_N_E=e.O()}]);