(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[564],{54673:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/collections",function(){return n(69132)}])},72141:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(80895),l=n(67294);function a(){return(0,l.useContext)(s.L)}},69132:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var s=n(85893),l=n(27855),a=n(58918),i=n(49836),c=n(62397),r=n(58467),o=n(39386),d=n(76641),u=n(48764).Buffer;let x=(0,o.struct)([(0,o.u8)("instruction")]);var m=n(67294),h=n(44718),f=n(54306),v=n(89583),j=()=>{let{connection:e}=(0,h.R)(),t=(0,f.O)(),[n,o]=(0,m.useState)(!1),[j,p]=(0,m.useState)(),[N,b]=(0,m.useState)(),[g,y]=(0,m.useState)(),[w,k]=(0,m.useState)(),[C,S]=(0,m.useState)(!1),[_,P]=(0,m.useState)(),E=async()=>{let t=await a._z.fetch(e,a.t$.address.entanglerState());t&&p(t)};(0,m.useEffect)(()=>{j||E()},[j,e]);let O=e=>{try{b(new i.PublicKey(e.target.value))}catch(t){b(void 0)}},T=e=>{try{y(new i.PublicKey(e.target.value))}catch(t){y(void 0)}},K=e=>{k(Number(e.target.value))},R=()=>{S(e=>!e)},A=e=>{P(e.target.value)},F=async()=>{if(!N||!t.publicKey||!g||!w||!_||!j)return;let n=new a.t$(N,t.publicKey,i.Keypair.generate().publicKey,g,Math.round(100*w));await t.sendTransaction(new i.Transaction().add(i.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:(0,c.MO)(r.Gd,t.publicKey,!0),lamports:j.price.toNumber()})).add(function(e,t=r.H_){let n=u.alloc(x.span);return x.encode({instruction:d.c.SyncNative},n),new i.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0}],programId:t,data:n})}((0,c.MO)(r.Gd,t.publicKey,!0))).add(n.instruction.createCollection(C)).add(n.instruction.createCollectionEntry(_,j.feeMint,j.earner)),e),o(!1),b(void 0),y(void 0),k(void 0),P(void 0)};return(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"btn btn-primary btn-large mx-auto",onClick:()=>o(!0),children:"Create a registered collection"}),(0,s.jsx)("div",{className:"modal ".concat(n?"modal-open":""),children:(0,s.jsxs)("div",{className:"modal-box",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,s.jsx)("div",{className:"text-xl font-bold my-auto",children:"Creator"}),(0,s.jsx)("div",{className:"btn btn-ghost",onClick:()=>o(!1),children:(0,s.jsx)(v.zYX,{className:"w-8 h-8"})})]}),(0,s.jsxs)("div",{className:"form flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"font-bold",children:"Original collection mint"}),(0,s.jsx)("div",{className:"text-sm text-neutral-content",children:'You can find it in the "collection" field of your token\'s metadata.'}),(0,s.jsx)("input",{className:"input input-bordered w-full",onChange:O})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"font-bold",children:"Royalties earner"}),(0,s.jsx)("div",{className:"text-sm text-neutral-content",children:"The wallet that will receive royalties."}),(0,s.jsx)("input",{className:"input input-bordered w-full",onChange:T})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"font-bold",children:"Royalties"}),(0,s.jsx)("div",{className:"text-sm text-neutral-content",children:"The percentage taken for royalties on each trade."}),(0,s.jsx)("input",{className:"input input-bordered w-full",type:"number",onChange:K})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"font-bold",children:"Reversable"}),(0,s.jsx)("div",{className:"text-sm text-neutral-content",children:"Whether it's possible to convert entangled tokens back to the original collection."}),(0,s.jsx)("input",{className:"checkbox",type:"checkbox",defaultChecked:!0,onChange:R})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"font-bold",children:"Registry key"}),(0,s.jsx)("div",{className:"text-sm text-neutral-content",children:"A human readable key in snake case (written_like_this)."}),(0,s.jsx)("input",{className:"input input-bordered w-full",onChange:A})]}),(0,s.jsxs)("div",{className:"btn ".concat(N&&g&&w&&_?"":"btn-disabled"," w-full"),onClick:F,children:["Create a collection for"," ",null==j?void 0:j.price.div(new l.BN(i.LAMPORTS_PER_SOL)).toString()," ","SOL"]})]})]})})]})},p=n(41664),N=n.n(p),b=JSON.parse('["C2cD56APtfp6PhZr2Wm6X19EnyxaNFtYxnCETURLt1SA"]'),g=e=>{var t;let{collection:n}=e;return console.log("Collection",n),(0,s.jsx)(N(),{href:"/collection/"+n.key,children:(0,s.jsxs)("div",{className:"m-2 static flex flex-col w-32 sm:w-48 rounded-lg shadow-xl bg-neutral",children:[b.includes(n.address.toString())?(0,s.jsx)("div",{className:"tooltip","data-tip":"Verified collection",children:(0,s.jsx)(v.CvY,{className:"absolute w-6 h-6 m-1 text-neutral-focus"})}):null,(0,s.jsx)("img",{className:"w-56 rounded-t-md",src:null===(t=n.json)||void 0===t?void 0:t.image}),(0,s.jsx)("span",{className:"text-xl font-bold text-center p-3 text-neutral-content",children:n.name})]},n.address.toString())})},y=n(72141),w=()=>{let{collections:e,isFetching:t}=(0,y.Z)();return console.log("Collections",e),(0,s.jsx)("div",{className:"m-5 p-5",children:e&&e.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:"Registered collections"}),(0,s.jsx)("div",{className:"flex flex-wrap",children:e.map(e=>(0,s.jsx)(g,{collection:e}))})]}):(0,s.jsx)(s.Fragment,{children:t?(0,s.jsxs)("div",{className:"text-center text-3xl p-5",children:[(0,s.jsx)("span",{children:"Fetching collections..."}),(0,s.jsx)("progress",{className:"progress"})]}):(0,s.jsx)("div",{children:"There are no registered collections yet..."})})})},k=n(9008),C=n.n(k);let S=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(C(),{children:[(0,s.jsx)("title",{children:"Dippies Club - Collections"}),(0,s.jsx)("meta",{name:"description",content:"A path forward"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{className:"mt-24",children:[(0,s.jsx)(j,{}),(0,s.jsx)(w,{})]})]});var _=S},9008:function(e,t,n){e.exports=n(83121)}},function(e){e.O(0,[445,774,888,179],function(){return e(e.s=54673)}),_N_E=e.O()}]);