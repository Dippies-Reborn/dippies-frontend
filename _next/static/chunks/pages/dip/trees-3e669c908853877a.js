(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[408],{14126:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dip/trees",function(){return s(69706)}])},61253:function(e,t,s){"use strict";s.d(t,{s:function(){return r}});var n=s(85893),i=s(45332),l=s(3247),a=s(75396);let r=e=>{let{mint:t,amount:s}=e,{token:r}=(0,l.Z)(t),{map:c}=(0,a.Z)(),o=null==c?void 0:c.get(t.toString());return(0,n.jsx)("div",{className:"font-bold",children:r?(0,n.jsxs)("div",{className:"flex flex-row",children:[(0,i.Bw)(s,r.decimals).toFixed(2)," ",o?(0,n.jsx)("div",{className:"tooltip my-auto","data-tip":o.name,children:(0,n.jsx)("img",{src:o.logoURI,className:"w-5 h-5 rounded-full"})}):(0,i.sC)(t)]}):null})}},44065:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(60731),i=s(67294);function l(){return(0,i.useContext)(n.C)}},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(44777),i=s(67294),l=s(44718);function a(e){let{connection:t}=(0,l.R)(),[s,a]=(0,i.useState)(),r=async()=>{if(t&&e)try{let s=await (0,n.ih)(t,e);a(s)}catch(i){}};return(0,i.useEffect)(()=>{r()},[e]),{token:s}}},75396:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(81189),i=s(67294);function l(){let{tokenMap:e,tokenNames:t}=(0,i.useContext)(n.Q);return{map:e,names:t}}},69706:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var n=s(85893),i=s(9008),l=s.n(i),a=s(64949),r=s(67294),c=s(44718),o=s(54306),d=s(79286),x=s(89583),u=s(61253),f=s(86501),m=s(44065),h=()=>{let{connection:e}=(0,c.R)(),t=(0,o.O)(),{program:s,forest:i}=(0,m.Z)(),[l,h]=(0,r.useState)(!1),[j,v]=(0,r.useState)(),p=e=>{v(e.target.value)},N=async()=>{if(t.publicKey&&j&&s&&i)try{await e.confirmTransaction(await s.methods.createTree(j).accounts((0,a.s$)(d.VO,i.admin,i.voteMint,j,s.provider.publicKey)).rpc({skipPreflight:!0}))}catch(n){f.ZP.error(n.toString())}finally{h(!1)}};return(0,n.jsxs)("div",{className:"flex p-3",children:[(0,n.jsx)("div",{className:"btn btn-neutral btn-large mx-auto",onClick:()=>h(!0),children:"Create a new tree"}),(0,n.jsx)("div",{className:"modal ".concat(l?"modal-open":""),children:(0,n.jsxs)("div",{className:"modal-box",children:[(0,n.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,n.jsx)("div",{className:"text-xl font-bold my-auto",children:"Creator"}),(0,n.jsx)("div",{className:"btn btn-ghost",onClick:()=>h(!1),children:(0,n.jsx)(x.zYX,{className:"w-8 h-8"})})]}),(0,n.jsxs)("div",{className:"form flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"font-bold",children:"Root's title"}),(0,n.jsx)("div",{className:"text-sm text-neutral-content",children:"The main topic of this tree."}),(0,n.jsx)("input",{className:"input input-bordered w-full",onChange:p}),(0,n.jsxs)("div",{className:"text-end justify-end",children:[(null==j?void 0:j.length)||0," / ",a.cG]})]}),i?(0,n.jsxs)("div",{className:"flex flex-row gap-3 text-accent",children:[(0,n.jsx)("div",{children:"Creating a tree costs"}),(0,n.jsx)(u.s,{mint:i.voteMint,amount:i.treeCreationFee})]}):null,(0,n.jsx)("div",{className:"btn ".concat(!j||j.length>a.cG?"btn-disabled":""," w-full"),onClick:N,children:"Create a new tree"})]})]})})]})},j=s(41664),v=s.n(j),p=()=>{let{forest:e,trees:t}=(0,m.Z)();return t?(0,n.jsxs)("div",{className:"flex flex-col w-lg justify-center",children:[(0,n.jsx)("div",{className:"divider text-2xl font-bold p-5 ",children:"All trees"}),(0,n.jsx)("div",{className:"flex flex-wrap mx-auto justify-center",children:Object.values(t).map(t=>(0,n.jsx)(v(),{href:"/dip/node/".concat(t.rootNode.toString()),children:(0,n.jsxs)("div",{className:"bg-base-200 shadow-xl rounded-xl p-5 m-3",children:[(0,n.jsx)("div",{className:"text-lg font-bold",children:t.title}),(0,n.jsxs)("div",{className:"flex flex-row gap-5 justify-between",children:[(0,n.jsx)("div",{children:"Total stake:"}),(0,n.jsx)("div",{children:e?(0,n.jsx)(u.s,{mint:e.voteMint,amount:t.stake}):"???"})]})]})},t.title))})]}):(0,n.jsx)("div",{children:(0,n.jsx)("progress",{className:"progress"})})};let N=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l(),{children:[(0,n.jsx)("title",{children:"Dippies Club - Dippies Index Protocol"}),(0,n.jsx)("meta",{name:"description",content:"A path forward"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("div",{className:"mt-24",children:[(0,n.jsx)(p,{}),(0,n.jsxs)("div",{className:"w-fit m-10 mx-auto p-3 bg-base-200 rounded-xl",children:[(0,n.jsx)("div",{className:"text-xl",children:"Can't find the topic you're looking for?"}),(0,n.jsx)(h,{})]})]})]});var b=N},9008:function(e,t,s){e.exports=s(83121)}},function(e){e.O(0,[445,774,888,179],function(){return e(e.s=14126)}),_N_E=e.O()}]);