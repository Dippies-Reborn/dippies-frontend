(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[564],{54673:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/collections",function(){return s(70381)}])},72141:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(80895),l=s(67294);function a(){return(0,l.useContext)(n.L)}},70381:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var n=s(85893),l=s(27855),a=s(58918),i=s(49836),c=s(67294),r=s(44718),o=s(54306),d=s(89583),x=()=>{let{connection:e}=(0,r.R)(),t=(0,o.O)(),[s,x]=(0,c.useState)(!1),[u,h]=(0,c.useState)(),[m,j]=(0,c.useState)(),[f,v]=(0,c.useState)(),[N,p]=(0,c.useState)(),[b,g]=(0,c.useState)(!1),[w,y]=(0,c.useState)(),C=async()=>{let t=await a._z.fetch(e,a.t$.address.entanglerState());t&&h(t)};(0,c.useEffect)(()=>{u||C()},[u,e]);let k=e=>{try{j(new i.PublicKey(e.target.value))}catch(t){j(void 0)}},_=e=>{try{v(new i.PublicKey(e.target.value))}catch(t){v(void 0)}},S=e=>{p(Number(e.target.value))},E=()=>{g(e=>!e)},R=e=>{y(e.target.value)},T=async()=>{if(!m||!t.publicKey||!f||!N||!w||!u)return;let s=new a.t$(m,t.publicKey,m,f,Math.round(100*N));await t.sendTransaction(new i.Transaction().add(s.instruction.createCollection(b)).add(s.instruction.createCollectionEntry(w,u.feeMint,u.earner)),e)};return(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"btn btn-primary btn-large mx-auto",onClick:()=>x(!0),children:"Create a registered collection"}),(0,n.jsx)("div",{className:"modal ".concat(s?"modal-open":""),children:(0,n.jsxs)("div",{className:"modal-box",children:[(0,n.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,n.jsx)("div",{className:"text-xl font-bold my-auto",children:"Creator"}),(0,n.jsx)("div",{className:"btn btn-ghost",onClick:()=>x(!1),children:(0,n.jsx)(d.zYX,{className:"w-8 h-8"})})]}),(0,n.jsxs)("div",{className:"form flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"font-bold",children:"Original collection mint"}),(0,n.jsx)("div",{className:"text-sm text-neutral-content",children:'You can find it in the "collection" field of your token\'s metadata.'}),(0,n.jsx)("input",{className:"input input-bordered w-full",onChange:k})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"font-bold",children:"Royalties earner"}),(0,n.jsx)("div",{className:"text-sm text-neutral-content",children:"The wallet that will receive royalties."}),(0,n.jsx)("input",{className:"input input-bordered w-full",onChange:_})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"font-bold",children:"Royalties earner"}),(0,n.jsx)("div",{className:"text-sm text-neutral-content",children:"The percentage taken for royalties on each trade."}),(0,n.jsx)("input",{className:"input input-bordered w-full",type:"number",onChange:S})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"font-bold",children:"Reversable"}),(0,n.jsx)("div",{className:"text-sm text-neutral-content",children:"Whether it's possible to convert entangled tokens back to the original collection."}),(0,n.jsx)("input",{className:"checkbox",type:"checkbox",defaultChecked:!0,onChange:E})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"font-bold",children:"Registry key"}),(0,n.jsx)("div",{className:"text-sm text-neutral-content",children:"A human readable key in snake case (written_like_this)."}),(0,n.jsx)("input",{className:"input input-bordered w-full",onChange:R})]}),(0,n.jsxs)("div",{className:"btn ".concat(m&&f&&N&&w?"":"btn-disabled"," w-full"),onClick:T,children:["Create a collection for"," ",null==u?void 0:u.price.div(new l.BN(i.LAMPORTS_PER_SOL)).toString()," ","SOL"]})]})]})})]})},u=s(41664),h=s.n(u),m=JSON.parse('["C2cD56APtfp6PhZr2Wm6X19EnyxaNFtYxnCETURLt1SA"]'),j=e=>{var t;let{collection:s}=e;return console.log("Collection",s),(0,n.jsx)(h(),{href:"/collection/"+s.key,children:(0,n.jsxs)("div",{className:"m-2 static flex flex-col w-32 sm:w-48 rounded-lg shadow-xl bg-neutral",children:[m.includes(s.address.toString())?(0,n.jsx)("div",{className:"tooltip","data-tip":"Verified collection",children:(0,n.jsx)(d.CvY,{className:"absolute w-6 h-6 m-1 text-neutral-focus"})}):null,(0,n.jsx)("img",{className:"w-56 rounded-t-md",src:null===(t=s.json)||void 0===t?void 0:t.image}),(0,n.jsx)("span",{className:"text-xl font-bold text-center p-3 text-neutral-content",children:s.name})]},s.address.toString())})},f=s(72141),v=()=>{let{collections:e,isFetching:t}=(0,f.Z)();return console.log("Collections",e),(0,n.jsx)("div",{className:"m-5 p-5",children:e&&e.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-2xl font-bold",children:"Registered collections"}),(0,n.jsx)("div",{className:"flex flex-wrap",children:e.map(e=>(0,n.jsx)(j,{collection:e}))})]}):(0,n.jsx)(n.Fragment,{children:t?(0,n.jsxs)("div",{className:"text-center text-3xl p-5",children:[(0,n.jsx)("span",{children:"Fetching collections..."}),(0,n.jsx)("progress",{className:"progress"})]}):(0,n.jsx)("div",{children:"There are no registered collections yet..."})})})},N=s(9008),p=s.n(N);let b=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(p(),{children:[(0,n.jsx)("title",{children:"Dippies Club - Collections"}),(0,n.jsx)("meta",{name:"description",content:"A path forward"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("div",{className:"mt-24",children:[(0,n.jsx)(x,{}),(0,n.jsx)(v,{})]})]});var g=b},9008:function(e,t,s){e.exports=s(83121)}},function(e){e.O(0,[445,774,888,179],function(){return e(e.s=54673)}),_N_E=e.O()}]);